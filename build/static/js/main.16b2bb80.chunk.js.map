{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","filterChange","value","onChange","PersonForm","addName","newName","nameHandler","newNumber","numberHandler","onSubmit","type","Person","id","name","number","deleteNumber","onClick","Persons","persons","newFilter","contentToShow","person","toLocaleLowerCase","includes","map","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","alert","attention","className","App","useState","setPersons","setNewFilter","setNewName","setNewNumber","alertMessage","setAlertMessage","attentionMessage","setAttentionMessage","useEffect","numberService","initialPersons","event","target","preventDefault","every","returnedPerson","concat","setTimeout","catch","error","find","p","returnValue","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16b2bb80.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ filter, filterChange }) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        filter shown with:\r\n        <input value={filter} onChange={filterChange} />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  addName,\r\n  newName,\r\n  nameHandler,\r\n  newNumber,\r\n  numberHandler,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n      <div>\r\n        name: <input value={newName} onChange={nameHandler} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={numberHandler} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ id, name, number, deleteNumber }) => {\r\n  //   console.log('Hello from Person, props is:', name);\r\n\r\n  return (\r\n    <li>\r\n      {name} {number}{' '}\r\n      <button onClick={() => deleteNumber(id, name)}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, newFilter, deleteNumber }) => {\r\n  const contentToShow =\r\n    newFilter === ''\r\n      ? persons\r\n      : persons.filter(\r\n          (person) =>\r\n            person.name\r\n              .toLocaleLowerCase()\r\n              .includes(newFilter.toLocaleLowerCase()) ||\r\n            person.number.includes(newFilter),\r\n        );\r\n\r\n  return (\r\n    <ul>\r\n      {contentToShow.map((person) => (\r\n        <Person\r\n          key={person.name}\r\n          id={person.id}\r\n          name={person.name}\r\n          number={person.number}\r\n          deleteNumber={deleteNumber}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteId = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(() => true);\r\n};\r\n\r\nexport default { getAll, create, update, deleteId };\r\n","import React from 'react';\r\n\r\nconst Notification = ({ alert, attention }) => {\r\n  if (alert === null && attention === null) {\r\n    return null;\r\n  }\r\n\r\n  if (alert !== null) {\r\n    return <div className=\"alert\">{alert}</div>;\r\n  } else if (attention !== null) {\r\n    return <div className=\"attention\">{attention}</div>;\r\n  }\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport numberService from './services/numbers';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newFilter, setNewFilter] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [alertMessage, setAlertMessage] = useState(null);\n  const [attentionMessage, setAttentionMessage] = useState(null);\n\n  useEffect(() => {\n    numberService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleFilterChange = (event) => {\n    // console.log(event.target.value);\n    setNewFilter(event.target.value);\n  };\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleDeleteClick = (id, name) => {\n    // console.log('clicked delete ' + id);\n    numberService.deleteId(id).then((returnValue) => {\n      if (returnValue === true) {\n        setPersons(persons.filter((p) => p.id !== id));\n        setAlertMessage(`Deleted ${name}`);\n        setTimeout(() => {\n          setAlertMessage(null);\n        }, 5000);\n      }\n    });\n  };\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (persons.every((person) => person.name !== newName)) {\n      numberService\n        .create({\n          name: newName,\n          number: newNumber,\n        })\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson));\n          setAttentionMessage(`Added ${newName}`);\n          setTimeout(() => {\n            setAttentionMessage(null);\n          }, 5000);\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          setAlertMessage(error.response.data['error']);\n        });\n      setTimeout(() => {\n        setAlertMessage(null);\n      }, 5000);\n    } else {\n      const id = persons.find((person) => person.name === newName).id;\n      numberService\n        .update(id, {\n          name: newName,\n          number: newNumber,\n        })\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== id ? person : returnedPerson,\n            ),\n          );\n          setAttentionMessage(`Updated ${newName}`);\n          setTimeout(() => {\n            setAttentionMessage(null);\n          }, 5000);\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch((error) => {\n          setAlertMessage(\n            `Information of ${newName} has already been removed from server`,\n          );\n          setTimeout(() => {\n            setAlertMessage(null);\n          }, 5000);\n          setPersons(persons.filter((p) => p.name !== newName));\n          setNewName('');\n          setNewNumber('');\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        alert={alertMessage}\n        attention={attentionMessage}\n      />\n\n      <Filter filter={newFilter} filterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        nameHandler={handleNameChange}\n        newNumber={newNumber}\n        numberHandler={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons\n        persons={persons}\n        newFilter={newFilter}\n        deleteNumber={handleDeleteClick}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}